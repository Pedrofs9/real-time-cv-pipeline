# ── Redis ─────────────────────────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# ── Storage ───────────────────────────────────────────────────────────────────
UPLOAD_DIR=/app/data/uploads
OUTPUT_DIR=/app/data/outputs
MODEL_PATH=/app/models/yolov8n.pt
DELETE_VIDEOS_AFTER_PROCESSING=true
RESULTS_TTL_SECONDS=3600

# ── File limits ───────────────────────────────────────────────────────────────
MAX_IMAGE_SIZE_MB=10
MAX_VIDEO_SIZE_MB=500

# ── Model & inference ─────────────────────────────────────────────────────────
DEVICE=cuda
MODEL_BACKEND=pytorch
CONFIDENCE_THRESHOLD=0.5
IOU_THRESHOLD=0.45
MODEL_INPUT_SIZE=640

# ── Video processing ──────────────────────────────────────────────────────────
MAX_FRAMES_PER_VIDEO=5000
DOWNLOAD_FRAME_SAMPLE_RATE=1 #download mode (higher=faster, but fewer detections)
WATCH_FRAME_SAMPLE_RATE=1    # watch mode (higher=faster, but fewer detections)
VIDEO_TIMEOUT_SECONDS=300
REQUEST_TIMEOUT_SECONDS=30
SCENE_CHANGE_THRESHOLD=0.02 # (lower=faster, but fewer detections)

# ── Performance ───────────────────────────────────────────────────────────────
OMP_NUM_THREADS=1
MKL_NUM_THREADS=1
NUM_WORKERS=2
MAX_QUEUE_SIZE=5

# ── Logging ───────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO

# ── Grafana ───────────────────────────────────────────────────────────────────
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=changeme

METRICS_PORT=8001

# ── FP16 ───────────────────────────────────────────────────────────────────
USE_FP16=true

# ── Concurrency ───────────────────────────────────────────────────────────────
MAX_CONCURRENT_IMAGE_REQUESTS=4   # max simultaneous image inference slots